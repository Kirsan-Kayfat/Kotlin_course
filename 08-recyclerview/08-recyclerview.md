# RecyclerView

## Оглавление

- [Введение](#введение)

## Введение

Отображение списка данных является одной из самых распространенных задач пользовательского интерфейса в Android. В погодном приложении отображается список прогнозов. В приложении чата отображается список сообщений. В новостном приложении — список новостей. Почти каждое приложение имеет хотя бы один список.

Списки как могут быть простыми, где каждый элемент — это просто компонент `TextView`. А могут быть и сложными с элементами, состоящими из множества компонентов.

Для реализации разных вариантов списков, как простых так и сложных, в Android используется компонент `RecyclerView`. У `RecyclerView` есть несколько преимуществ.

Во-первых, `RecyclerView` разработан так, что он работает со списками максимально эффективно, даже когда в списке находится большое число элементов.  
Во-вторых, `RecyclerView` позволяет отображать элементы разной сложности одновременно. Это могут быть как простые `TextView`-элементы, так и сложные элементы с текстом, изображениями или видео внутри.  
В-третьих, `RecyclerView` поддерживает возможность отображения и списков, и сетки (Grid) из элементов.  
В-четвертых, `RecyclerView` позволяет настраивать ориентацию скроллинга: вертикально или горизонтально.

Эффективность `RecyclerView` заключается в том, что он использует адаптеры (о них речь пойдет далее) для отрисовки элементов списка. По умолчанию `RecyclerView` отрисовывает только элементы, видимые пользователю на экране. Это означает, что если в списке 1000 элементов, а пользователю видны только 10 из них, то `RecyclerView` будет отрисовывать только 10 элементов из 1000. А во время скроллинга будет автоматически обновлять содержимое элементов новых элементов, которые пользователю становятся видны. Таким образом `RecyclerView` просто переиспользует существующие элементы, чтобы обновить отображение, вместо полного их пересоздания. Кроме этого, когда обновляется какой-либо элемент списка (например, в результате работ фоновых процессов), то `RecyclerView` не будет обновлять весь список целиком, а обновит только один конкретный элемент.

Кроме `RecyclerView` Android предоставляет и другие компоненты для отображения списков.  
Например, `ListView` и `GridView`. Они более просты в использовании, чем `RecyclerView`, однако они менее настраиваемые, и эффективно работают лишь с небольшим количеством элементов в списке, не более 100.
Также есть `LinearLayout`, однако, он не подходит для отображения большого числа элементов, отображение которых должно выполняться автоматически. `LinearLayout` подходит лишь для отображения статических компонентов, количество которых меняться не должно.  
Таким образом, на текущий момент наиболее подходящим решением для отображения списка элементов является `RecyclerView`.

В данном уроке мы будем добавлять `RecyclerView` в приложение "Sleep Tracker", разработанное в предыдущем уроке. Сейчас приложение отображает список данных, но отображает их с помощью постоянно генерирующейся строки. Это ужасно выглядит с точки зрения пользовательского интерфейса, и ужасно реализовано как с точки зрения производительности (строка постоянно генерируется заново), так и с точки зрения чистоты кода.

Для отображения списка элементов будет использоваться `RecyclerView` и будут реализованы элементы списка, отображающие время сна, его продолжительности, оценку и иконку оценки.

![](sleep-tracker-with-recyclerview.png)

// In Progress 


